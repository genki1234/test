<template>
  <div id="app">
    <input type="text" :value="text" @input="updateText" @keyup="insertTextAtCursor($event, 'aaa')" />

    <p>テキストボックスの内容: <span>{{ text }}</span></p>
  </div>
</template>

<script>
import { ref } from 'vue';

export default {
  setup() {
    const text = ref("");

    const updateText = (event) => {
      text.value = event.target.value;
    };

    const insertTextAtCursor = (event, insertText) => {
      const position = event.target.selectionStart;
      text.value = text.value.slice(0, position) + insertText + text.value.slice(position);
    };

    return { text, updateText, insertTextAtCursor };
  },
};
</script>
